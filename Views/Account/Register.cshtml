@model jotun.Models.RegisterViewModel
@{
    ViewBag.Title = "Register";
}

<h2>@ViewBag.Title.</h2>

@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Create a new account.</h4>
    <hr />
    @Html.ValidationSummary("", new { @class = "text-danger" })
    <div class="form-group">
        @Html.LabelFor(m => m.Email, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
        </div>
    </div>


    <div class="form-group">
        @Html.LabelFor(m => m.UserName, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Password, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("user Role", new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @*@Html.DropDownList("Name")*@
            @*            @Html.DropDownList("UserRoles", (SelectList)ViewBag.Name, " ")*@
            @Html.DropDownList("UserRoles", (SelectList)ViewBag.Name)

        </div>
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" value="Register" />
        </div>
    </div>
    <h2>Users Operation</h2>
    <table id="userstable" class="table table-striped table-bordered" cellspacing="0">
        <thead>
            <tr>
                <th>Roles</th>
                <th>Name</th>
                <th>Password</th>
            </tr>
        </thead>
    </table>
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    @section Scripts {

        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
        <link href="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap.min.css" rel="stylesheet" />

        @*<script type="text/javascript">
                $(document).ready(function () {
                    $("#usersTable").DataTable({
                        "processing": true,
                        "serverSide": true,
                        "ajax": {
                            "type": "GET",
                            "url": '/Views/Account/Register/GetData',
                            "contentType": 'application/json; charset=utf-8',
                            'data': function (data) {
                                return data = JSON.stringify(data);
                            }
                        },
                        "columns": [
                            { "data": "Roles" },
                            { "data": "Name" },
                            { "data": "Password" },
                        ]

                    });


                });
            </script>*@
        <script>
            $(document).ready(function () {
                //$("#userstable").DataTable({
                //    "ajax": {
                //        "url": "Account/GetData",
                //        "type": "GET",
                //        "datatype": "json"
                //    },
                //    "columns": [
                //        { "data": "Roles" },
                //        { "data": "Name" },
                //        { "data": "Password" },
                //    ]

                //});
            });
            //$.fn.dataTable.ext.errMode = 'throw';

        </script>

        @Scripts.Render("~/bundles/jqueryval")
    }




}

